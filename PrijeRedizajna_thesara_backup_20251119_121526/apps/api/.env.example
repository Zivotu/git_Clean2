# Example production env for API (fill values before deploy)
NODE_ENV=production
PORT=8788
BUNDLE_STORAGE_PATH=/srv/thesara/storage/bundles
PREVIEW_STORAGE_PATH=/srv/thesara/storage/previews
STORAGE_DRIVER=local
STORAGE_BACKEND=local
ALLOW_REVIEW_PREVIEW=true

# Usage limits
# Free plan: how many active apps per user
MAX_APPS_PER_USER=1
# Gold plan: how many active apps per user
GOLD_MAX_APPS_PER_USER=10
# Storage quotas (MB)
MAX_STORAGE_MB_PER_USER=100
GOLD_MAX_STORAGE_MB_PER_USER=1000

ROOMS_ENABLED=true
ROOMS_V1__JWT_SECRET=change_me_long_random_secret
ROOMS_V1__JWT_ISSUER=thesara-api
ROOMS_V1__JWT_AUDIENCE=rooms

CREATEX_WORKER_ENABLED=true
JWT_SECRET=change_me_jwt_secret
WEB_BASE=https://thesara.space
THESARA_PUBLIC_BASE=https://thesara.space

# Firebase Admin (required for verifying ID tokens used by Play wrapper)
FIREBASE_PROJECT_ID=your_firebase_project_id
FIREBASE_CLIENT_EMAIL=service-account@your_project.iam.gserviceaccount.com
# Use single-line private key and escape newlines as \n if needed
FIREBASE_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n

# Add other production secrets below (Stripe, Firestore credentials, etc.)
# e.g. FIRESTORE_PROJECT_ID=...
# Optional: dodatni externals za user bundle (CSV)
SAFE_PUBLISH_EXTERNALS=

# Golden Book donations (Stripe Payment Link)
GOLDEN_BOOK_ENABLED=true
GOLDEN_BOOK_PRICE_ID=price_xxx
GOLDEN_BOOK_PRODUCT_ID=prod_xxx
GOLDEN_BOOK_PAYMENT_LINK=https://buy.stripe.com/xxxx
GOLDEN_BOOK_CAMPAIGN_ID=goldenbook-2024-q4
# Optional campaign window (ms since epoch)
GOLDEN_BOOK_CAMPAIGN_START_MS=0
GOLDEN_BOOK_CAMPAIGN_END_MS=0
# How long donors can add alias before fallback to anonymous (ms)
GOLDEN_BOOK_ALIAS_GRACE_MS=86400000

# Mail configuration
SMTP_HOST=mail.thesara.space
SMTP_PORT=465
SMTP_USER=reports@thesara.space
SMTP_PASS=change_me
ADMIN_EMAIL_FROM=reports@thesara.space
ADMIN_EMAIL_TO=activity@thesara.space

# Admin access (enter sha256 hash of PIN + optional salt)
# Generate: echo -n 'your-pin-and-salt' | sha256sum
ADMIN_ACCESS_PIN_HASH=6c94e35ccc352d4e9ef0b99562cff995a5741ce8de8ad11b568892934daee366
# Optional salt concatenated before hashing (kept separate from hash env)
ADMIN_ACCESS_PIN_SALT=
# Optional overrides for rate limiting (defaults: 5 attempts / 5min)
# ADMIN_ACCESS_WINDOW_MS=300000
# ADMIN_ACCESS_MAX_ATTEMPTS=5

WELCOME_SMTP_HOST=mail.thesara.space
WELCOME_SMTP_PORT=465
WELCOME_SMTP_USER=welcome@thesara.space
WELCOME_SMTP_PASS=change_me
WELCOME_EMAIL_FROM=welcome@thesara.space

REPORTS_SMTP_HOST=mail.thesara.space
REPORTS_SMTP_PORT=465
REPORTS_SMTP_USER=reports@thesara.space
REPORTS_SMTP_PASS=change_me
REPORTS_EMAIL_FROM=reports@thesara.space
REPORTS_EMAIL_TO=reports@thesara.space

# Ambassador/Affiliate program
# Commission and attribution parameters
AMBASSADOR_COMMISSION_RATE_PERCENT=80
AMBASSADOR_ATTRIBUTION_WINDOW_DAYS=60
AMBASSADOR_PAYOUT_THRESHOLD_EUR=50
# Optional URLs for dashboard/kit (fallbacks exist in code)
AMBASSADOR_DASHBOARD_URL=https://thesara.space/ambassador/dashboard
AMBASSADOR_MARKETING_KIT_URL=https://thesara.space/ambassador-kit
AMBASSADOR_MIN_POSTS_PER_MONTH=2
